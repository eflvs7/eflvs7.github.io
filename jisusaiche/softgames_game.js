_CCSettings = {
    "platform": "web-mobile",
    "groupList": ["default", "Car", "Wall", "Items", "Dirt", "Checkpoint"],
    "collisionMatrix": [
        [true, false, false, false, false, false],
        [false, false, true, true, true, true],
        [false, true, false, false, false, false],
        [false, true, false, false, false, false],
        [false, true, false, false, false, false],
        [false, true, false, false, false, false]
    ],
    "rawAssets": {
        "assets": {
            "6fe68e3e-dd7d-42fe-92bd-782a8f20e5a6": ["resources/sprites.plist", 0],
            "397aecaa-ae0a-4ba9-b01a-a00572f0ca43": ["resources/sprites", 1, 1],
            "a29c0e56-c0df-4bdc-b34f-0e23fd51014a": ["resources/sprites", 1, 1],
            "b28b878d-8bf1-4233-9d3f-52d44688789e": ["resources/sprites", 1, 1],
            "6ce70e15-b3f4-454c-8c56-4200470fed44": ["resources/sprites", 1, 1],
            "f1ba88ef-0d38-4740-af37-a2c25fa41bad": ["resources/sprites", 1, 1],
            "654f6f47-b51d-48fc-8e88-81084c691701": ["resources/sprites", 1, 1],
            "f7b8196d-55aa-4cf6-91b7-baba3d37796a": ["resources/sprites", 1, 1],
            "6b0127b1-2cf2-4c8e-b2a9-13cc938edef7": ["resources/sprites", 1, 1],
            "2e22f354-aceb-4b8a-8313-afbd2764d967": ["resources/sprites", 1, 1],
            "8a17dd05-2ad6-4e68-a5f4-3410458f6dd1": ["resources/sprites", 1, 1],
            "46225951-71e8-4c09-8442-88471e1274b1": ["resources/sprites", 1, 1],
            "3e1e2131-93e3-4b49-8b31-bcf38b8f8993": ["resources/sprites", 1, 1],
            "cce49809-5bf6-40e6-a606-c2a175f8cc21": ["resources/sprites", 1, 1],
            "49e0654b-a18d-460f-bd74-5daf09f44e11": ["resources/sprites", 1, 1],
            "a5ffe256-e67f-45d3-be9a-35b8e158830d": ["resources/sprites", 1, 1],
            "d5fb9ac8-7c12-412a-915f-c1008ced9287": ["resources/sprites", 1, 1],
            "d3abec66-120f-4b66-a81f-8cb84fd45e65": ["resources/sprites", 1, 1],
            "53b7a0df-e4c7-4683-a968-fe6c24fa5daa": ["resources/sprites", 1, 1],
            "98e44ce8-fa61-4f9a-91a7-ff3d6a880f3a": ["resources/sprites", 1, 1],
            "c638e525-c348-41ef-8031-e6d688f6a092": ["resources/sprites", 1, 1],
            "acaaac6a-c5e0-4d08-b8ad-9a2ec52be690": ["resources/sprites", 1, 1],
            "a1588874-3358-4316-bbfc-1e01e415679f": ["resources/sprites.png", 2],
            "1562d0bc-2724-4f62-bdf7-fae6ab2fa155": ["resources/sprites", 1, 1],
            "1be21d28-1b46-4eb7-b3fb-aa93831acd5d": ["Media/Sounds/drift.mp3", 3],
            "6bbf6585-123c-4ea3-86dd-5a2d7760bf86": ["Media/Sounds/engine.mp3", 3],
            "03b8ea8e-14de-4485-9fe2-9fe15c2fbba4": ["Media/Sounds/theme.mp3", 3],
            "9f2fc22f-99d1-480d-8243-6b99dc1ca996": ["Media/Sounds/start.mp3", 3],
            "e5a45a93-3ff6-4c99-9629-cd17866a6fd1": ["Media/Sounds/box.mp3", 3],
            "318be8a0-1228-4e19-b24c-683facc5ed0c": ["Media/Sounds/boost.mp3", 3],
            "311a0f0f-fa71-4995-a451-f23de95392eb": ["Media/Sounds/jet.mp3", 3],
            "50dcede9-9694-4136-b921-ff86c017f218": ["Media/Sounds/wet.mp3", 3],
            "14afb3b5-53c7-4696-895b-a2ce97f5f75d": ["Media/Sounds/jump.mp3", 3],
            "9cb0c5cb-ef2d-44e8-9d21-03ba1d88cfac": ["Media/Sounds/explosion.mp3", 3],
            "a8e71473-5dd0-40e9-bbcd-9138a00d2a50": ["Media/Bigs/NoLight.png", 2],
            "938d647d-5eb7-4ac8-8f74-8b5ee9d70ffc": ["Media/Bigs/Light.png", 2],
            "22a309d9-2d98-43ab-8dbd-805fa7f28e6c": ["Media/Bigs/GameLogo.png", 2],
            "05dc03d5-1f0c-4bb7-b8be-b312f83b677c": ["Media/Dynamic Resources/3.png", 2],
            "446d73ec-f2ae-4c0d-aacc-5e5da17d4df5": ["Media/Dynamic Resources/1.png", 2],
            "b1f006eb-dbaf-4ceb-bdbd-0283ca60a8fb": ["Media/Dynamic Resources/2.png", 2],
            "81aa30e3-c337-4b83-8398-867388704b45": ["Media/Bigs/Wall_1.png", 2],
            "0478f1ad-795b-49e7-99be-dea23ab4020b": ["Media/Bigs/Wall_2.png", 2],
            "3d436266-caf3-43f7-a504-f89cedc21893": ["Media/Bigs/Corner.png", 2],
            "31041175-c416-4815-a7eb-228c744055e0": ["Media/Bigs/Tree_03.png", 2],
            "853e3816-78b9-4230-b0c2-e4fa68a24125": ["Media/Bigs/Menu_Bg.png", 2],
            "bbe5ea3b-1a39-4bec-9b2e-88c2cd867eb6": ["Media/Sprites/Atlas-1.png", "cc.Texture2D"]
        },
        "internal": {
            "b43ff3c2-02bb-4874-81f7-f2dea6970f18": ["image/default_btn_pressed.png", 2],
            "71561142-4c83-4933-afca-cb7a17f67053": ["image/default_btn_disabled.png", 2],
            "e851e89b-faa2-4484-bea6-5c01dd9f06e2": ["image/default_btn_normal.png", 2]
        }
    },
    "assetTypes": ["cc.SpriteAtlas", "cc.SpriteFrame", "cc.Texture2D", "cc.AudioClip"],
    "jsList": ["assets/Settings.js"],
    "launchScene": "db://assets/Scene/LoaderScene.fire",
    "scenes": [{
        "url": "db://assets/Scene/LoaderScene.fire",
        "uuid": "3f93684e-2b79-45e3-88f9-53abde24ed25"
    }, {
        "url": "db://assets/Scene/Constructor Scene.fire",
        "uuid": "3e06eebe-456d-4230-9bd3-3db3138f7ab8"
    }, {
        "url": "db://assets/Scene/SingleMenu.fire",
        "uuid": "8653e630-a797-4995-b208-c8be969602a1"
    }, {
        "url": "db://assets/Scene/Track_0.fire",
        "uuid": "c9d7c20a-9364-419d-bc45-225b6514c862"
    }, {
        "url": "db://assets/Scene/Track_A.fire",
        "uuid": "346946a8-01d4-483a-b857-07d2e4ecf9a3"
    }, {
        "url": "db://assets/Scene/Track_B.fire",
        "uuid": "829c26db-25bf-4fb2-9cee-566d4d272211"
    }, {
        "url": "db://assets/Scene/Track_C.fire",
        "uuid": "7a2fea62-7ff8-4b65-9f83-9d63bda8d56f"
    }, {
        "url": "db://assets/Scene/Track_D.fire",
        "uuid": "e5c9762a-caa0-483c-89d3-b647bcce2e24"
    }, {
        "url": "db://assets/Scene/Track_E.fire",
        "uuid": "dd304b42-1aca-4442-94b4-983a8b08a5c4"
    }, {
        "url": "db://assets/Scene/Track_F.fire",
        "uuid": "2fe191de-8b3e-446a-b961-959632ed4ac7"
    }, {
        "url": "db://assets/Scene/Track_G.fire",
        "uuid": "5119935f-76c0-4398-b9df-72cc8f622253"
    }, {
        "url": "db://assets/Scene/Track_H.fire",
        "uuid": "d7d233bc-3a0d-4053-9202-6e6bd09a4044"
    }, {
        "url": "db://assets/Scene/Track_I.fire",
        "uuid": "5e2b304f-dbbc-445d-94f3-3ccc379f33ea"
    }],
    "packedAssets": {
        "039a771f-1965-403c-8905-95257d944eea": ["0a090d47-b892-4f07-a010-45d7291e7e2c", "7a9d9988-a828-47c6-978f-f47373634630", "15512aa0-13ad-4116-bc25-39c870cd15ca", "4be58bae-1b39-4a50-8a0d-0593affde5fa", "5789bbf6-8453-4a16-99e2-df500f8a5f12", "000e79e6-51ad-4cb0-acda-444e30b17970", "d78bdce5-1770-4453-8286-4b3ee48901ed", "3062e761-b085-4db7-a7c6-5d9999c94273", "9a4cc3fd-25a4-41ec-9349-d5926ead7369", "d49a3f37-972d-4d7a-8b5d-ec6dc9b081e1", "8d678aa2-0f64-4e48-a94f-96638875945d", "6d5bb7a4-5621-4cb1-92b1-778b748085a3", "6630ed40-37c2-4ba0-8abb-f39363d9c309", "c16f6626-def3-4e89-a739-0abfabc2fd54", "88fa850b-02bb-4fab-a5cc-24a06fbdf51f", "6c5c29b7-b9f1-421e-8ead-4178d7602d02", "10479a08-c78e-4532-bcac-d7f775b51286", "43cdb74b-469e-4ea5-a648-a3d4b03e5400", "1947f6df-72c2-46e0-acaf-e6612d6dcfa6", "49d40abb-c77b-437c-a4e4-f5aa11e2dc73", "dc4e18fe-8f97-40f2-96fc-0cd7b48a60f3", "dc7068c2-1ef0-42ce-bd10-6966bcd2716a", "030007fa-c54f-4859-9fc3-934e531b909b", "28da9ae1-958a-4819-b99b-2c7c90e2a24b", "33901241-f013-4bcc-9f25-2feba3bbba33", "bc13c569-4b7f-4939-9b90-80309d4f5dd4", "91ac760c-903d-489f-ae3f-cb98dde2e9ec", "5589b02d-4417-4b37-a717-9b4625e2a705", "9e4638a4-f1c3-4cb8-aad3-18605812ca6d", "18c1bfdf-2e82-4e2e-9976-d81bf992a8f5", "8d805ff8-4d64-4c51-bf90-45fe1e238c9b", "c0576f99-505f-479b-9a4e-f6cbe0f6bb89", "96109461-3209-4f7a-bd02-39e052cf3b9b", "f5458720-f672-4236-9318-f876709a6bf4", "40d81ada-4e75-4a89-af7b-2443580f9f42", "d7b8f088-8d95-4cbc-b514-91b7662f2294", "52155d4d-6630-4ab7-b1e7-c5a28dea0087", "da538cf4-fd67-41c4-90b5-e2de955db77e", "f19c3655-a47f-41bf-b364-0f1446423c9f", "30eed206-7db9-4436-aae1-e4582dfc8a07", "c45acdda-fb78-411c-ac7f-506b32304302", "2e3dc73e-e0d9-4ea8-a39c-fb2ed18fc681", "c3526488-7302-483d-bbe4-1c022185f15b", "16ff28b9-1005-4adb-871d-5f79db992ad9", "7753582f-ecb3-427a-a59f-bc717768fbd8", "218a3002-0e23-4cf7-9515-315839e60a3c", "5ef19ed4-c91d-4960-aa67-b261bd34fb6d", "62388d74-1f39-4176-9735-d1b53edf2b8d", "1025a823-b836-489c-a713-808d6d1e0fc6", "c04479d6-b541-4462-b997-690568b16658", "ff712156-c828-4ce7-854b-0b072731e145", "88b6b414-ca84-408d-92b8-c4b48bc28b3d", "02fd9f08-eaf9-4f26-9e9d-a98898ea12e5", "2a51dd5f-bb87-44b1-a41d-6a7bdeecb04a", "2d0a8b0c-c7e7-463d-abf5-19c1f2f59b4f", "a62df7d0-8453-4bd9-87b7-700a1eb9c45b", "c8cd2040-e6c9-4c94-b364-a6ae96258765", "ce61b478-787b-44c8-b8be-a8433ef1e45d", "6eb142c2-479e-4e1d-b3b7-81ccb4b168cd", "777457e5-91a4-40c6-b7d4-f0c804fee507", "5afcc53c-44f3-4e04-9dbc-f2a0bb57d855"],
        "38774a1d-f36f-408f-8204-84c399c5a70a": ["9b4a6f8b-361c-422f-8200-fc4660e961b8", "5ccbf937-775b-4991-abdc-399ec10428ca", "65320532-6e09-406c-af59-604fd494dabe", "9c4e2b33-ce42-488d-8c9e-b3b1a6195c82", "5c9e6a7f-ebea-489d-99e1-29d2b545a5fc", "e9ec654c-97a2-4787-9325-e6a10375219a", "29158224-f8dd-4661-a796-1ffab537140e", "5e69453a-f109-4db8-ad16-29b9731a2e0d", "6398967b-f73c-42bb-9b28-9361e8b723d7", "ce0edf49-0a0c-46c2-a938-709220528071", "a75d9eb8-ef7d-49a7-bb5d-52af4bcb3aa6", "f0048c10-f03e-4c97-b9d3-3506e1d58952"],
        "3e424991-a300-42bf-8a4e-0002b0a7fbf2": ["45750c7b-f540-4cf7-be4e-c0e4517791b2", "e9303c4f-5859-4ece-a63f-046a7581bfc1"],
        "55ed0e8f-26e7-4216-988f-e770d3a34b28": ["497a0ec6-669a-4e07-87a5-58630ce8fdad", "7dc44ad5-5d94-4ba0-b35b-27f3a8594e91"],
        "89f441b6-e259-4fa8-85b0-a9fbb138df99": ["c978597d-30f0-480a-8c6e-9884d0b338df", "8c38f8b7-9abd-4597-b6e0-d7fe22a9207b"],
        "9bc7c22a-2d41-4748-bce9-06f95d88697c": ["5aa8945f-6129-48c4-a6ab-a6a8df656ea8", "662037d8-6e73-4c28-8988-7869cdc129f5", "31463c3d-9de1-4770-9a6b-0e4a3ebf1773", "4d245128-821d-4b07-ae02-fa3d0e225fc4", "35e63783-8ba6-4d3d-afb3-994168f300aa"],
        "a5535a9a-98c6-4dfd-ae1d-c76f2a8c574c": ["0394da73-2410-41be-856d-a0dc4d78ceab", "5c95fe3a-aa35-4c7e-8a1c-9795b5df850a", "08e21a92-a676-40d6-90bb-53dd76d34bd2", "8f93eae3-86e6-47fc-96a0-9980946e310a", "ca65b768-03b6-4a0c-ae6a-833055d5c80f", "8653e630-a797-4995-b208-c8be969602a1", "9c3bd215-c7bf-47cc-8082-12683c475c95", "2ab673c9-ba69-46ca-aeef-ede93eb47038", "5be441a9-698f-4c17-aef8-1c3348cd0365", "baebb647-55dc-4497-9805-8fa36f1d08db", "3266e7ce-b9bb-4d05-8905-969aa7e910b1", "7c9b47c3-39e7-4783-94e6-10d33e95be26", "1993035b-6ae0-49d5-9653-e6d3f0e148d0", "abf8aa43-ac40-4ac6-b518-d12bc11741b8", "dd9a2916-eec5-43f0-8b5f-360e1c0d6885", "66dd60a9-532d-4059-ba92-5956e3b92164", "504e706d-1b54-4071-ac18-0dc113148897", "eba4202d-70dc-4b48-96db-3e6a8ab1aa1f", "6cb6ae49-aca7-4f74-81d3-99328e988848", "0941258a-da97-42bf-a960-23f615e9ed13", "eaf2cee9-de89-4cd3-b959-5e39638dc97e"],
        "bf029e43-697c-4aee-8984-92dde3ad294c": ["6fe68e3e-dd7d-42fe-92bd-782a8f20e5a6", "397aecaa-ae0a-4ba9-b01a-a00572f0ca43", "b28b878d-8bf1-4233-9d3f-52d44688789e", "a29c0e56-c0df-4bdc-b34f-0e23fd51014a", "6ce70e15-b3f4-454c-8c56-4200470fed44", "f1ba88ef-0d38-4740-af37-a2c25fa41bad", "654f6f47-b51d-48fc-8e88-81084c691701", "2e22f354-aceb-4b8a-8313-afbd2764d967", "8a17dd05-2ad6-4e68-a5f4-3410458f6dd1", "46225951-71e8-4c09-8442-88471e1274b1", "f7b8196d-55aa-4cf6-91b7-baba3d37796a", "3e1e2131-93e3-4b49-8b31-bcf38b8f8993", "cce49809-5bf6-40e6-a606-c2a175f8cc21", "49e0654b-a18d-460f-bd74-5daf09f44e11", "a5ffe256-e67f-45d3-be9a-35b8e158830d", "d3abec66-120f-4b66-a81f-8cb84fd45e65", "53b7a0df-e4c7-4683-a968-fe6c24fa5daa", "98e44ce8-fa61-4f9a-91a7-ff3d6a880f3a", "c638e525-c348-41ef-8031-e6d688f6a092", "acaaac6a-c5e0-4d08-b8ad-9a2ec52be690"],
        "f001b7aa-516f-4b5f-bf78-f6d39f2b5a99": ["641d0a3f-5e00-4fe9-81ea-79f4185fc88d", "6b83474e-1dde-443b-937f-6a6bc855422e"]
    },
    "orientation": ""
};
var Booter = {
    boot: function () {

        // Avoid `console` errors in browsers that lack a console.
        (function () {
            var method;
            var noop = function () {};
            var methods = [
                'assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error',
                'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log',
                'markTimeline', 'profile', 'profileEnd', 'table', 'time', 'timeEnd',
                'timeStamp', 'trace', 'warn'
            ];
            var length = methods.length;
            var console = (window.console = window.console || {});

            while (length--) {
                method = methods[length];

                // Only stub undefined methods.
                if (!console[method]) {
                    console[method] = noop;
                }
            }
        }());

        var settings = window._CCSettings;
        window._CCSettings = undefined;

        if (!settings.debug) {
            // retrieve minified raw assets
            var rawAssets = settings.rawAssets;
            var assetTypes = settings.assetTypes;
            for (var mount in rawAssets) {
                var entries = rawAssets[mount];
                for (var uuid in entries) {
                    var entry = entries[uuid];
                    var type = entry[1];
                    if (typeof type === 'number') {
                        entry[1] = assetTypes[type];
                    }
                }
            }
        }

        // init engine
        var canvas;

        if (cc.sys.isBrowser) {
            canvas = document.getElementById('GameCanvas');
        }

        function setLoadingDisplay() {
            // Loading splash scene
            var splash = document.getElementById('splash');
            /*
            var progressBar = splash.querySelector('.progress-bar span');
            cc.loader.onProgress = function (completedCount, totalCount, item) {
                var percent = 100 * completedCount / totalCount;
                if (progressBar) {
                    progressBar.style.width = percent.toFixed(2) + '%';
                }
            };*/
            
            splash.style.display = 'block';

            cc.director.once(cc.Director.EVENT_AFTER_SCENE_LAUNCH, function () {
                splash.style.display = 'none';
            });
        }

        resizeMyOwn = function () {
            setTimeout("window.scrollTo(0, 1)", 50);
            var size = cc.view.getFrameSize();

            //if (cc.sys.isMobile) {
                var height = 480;
                var width = Math.floor(size.width * (height / size.height));
                if (width < 640) {
                    var width = 640;
                    var height = Math.floor(size.height * (width / size.width));
                }
                cc.view.setDesignResolutionSize(width, height, cc.ResolutionPolicy.SHOW_ALL);

                if (cc.sys.isMobile) {
                    if (size.height / size.width <= 1) {
                        var Globals = require("Globals");
                        Globals.resumeGame();
                        document.getElementById('Cocos2dGameContainer').style.display = 'block';
                        document.getElementById('orientation').style.display = 'none';

                        // hack to remove quad-size on ipad
                        // var isiPad = navigator.userAgent.indexOf('iPad') != -1
                        var isiPad = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
                        if (isiPad) {
                            var element = document.getElementById('Cocos2dGameContainer');
                            var disp = element.style.display;
                            element.style.display = 'none';
                            setTimeout(function () {
                                element.style.display = disp;
                            }, 1);
                        }
                        // end hack
                    } else {
                        var Globals = require("Globals");
                        Globals.pauseGame();
                        document.getElementById('orientation').style = document.getElementById('Cocos2dGameContainer').style;
                        document.getElementById('orientation').style.display = 'block';
                        document.getElementById('Cocos2dGameContainer').style.display = 'none';
                    }
                }
            //} else {
                // var width = 640;
                // var height = size.height * (width / size.width);
                // cc.view.setDesignResolutionSize(width, height, cc.ResolutionPolicy.SHOW_ALL);
            //}
        };

        var onStart = function () {
            // SG_Hooks.setOrientationHandler(resizeMyOwn);
            // SG_Hooks.setResizeHandler(resizeMyOwn);

            // cc.view.adjustViewPort(true);
            //if (cc.sys.isMobile) {
                cc.view.setResizeCallback(resizeMyOwn);
                resizeMyOwn();
                window.resizeMyOwn = resizeMyOwn;
            //}
            cc.view.resizeWithBrowserSize(true);


            // UC browser on many android devices have performance issue with retina display
            if (cc.sys.os !== cc.sys.OS_ANDROID || cc.sys.browserType !== cc.sys.BROWSER_TYPE_UC) {
                cc.view.enableRetina(true);
            }
            //cc.view.setDesignResolutionSize(settings.designWidth, settings.designHeight, cc.ResolutionPolicy.SHOW_ALL);

            if (cc.sys.isBrowser) {
                setLoadingDisplay();
            }

            if (cc.sys.isMobile) {
                if (settings.orientation === 'landscape') {
                    cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE);
                } else if (settings.orientation === 'portrait') {
                    cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT);
                }
                cc.view.enableAutoFullScreen(cc.sys.browserType !== cc.sys.BROWSER_TYPE_BAIDU);
            }

            // init assets
            cc.AssetLibrary.init({
                libraryPath: 'res/import',
                rawAssetsBase: 'res/raw-',
                rawAssets: settings.rawAssets,
                packedAssets: settings.packedAssets
            });

            var launchScene = settings.launchScene;

            // load scene
            if (cc.runtime) {
                cc.director.setRuntimeLaunchScene(launchScene);
            }
            cc.director.loadScene(launchScene, null,
                function () {
                    if (cc.sys.isBrowser) {
                        // show canvas
                        canvas.style.visibility = '';
                        var div = document.getElementById('GameDiv');
                        if (div) {
                            div.style.backgroundImage = '';
                        }
                    }

                    // play game
                    cc.game.resume();

                    console.log('Success to load scene: ' + launchScene);
                }
            );
            resizeMyOwn();
        };

        // jsList
        var jsList = settings.jsList;
        var bundledScript = settings.debug ? 'project.dev.js' : 'project.js';
        if (jsList) {
            jsList.push(bundledScript);
        } else {
            jsList = [bundledScript];
        }

        // anysdk scripts
        if (cc.sys.isNative && cc.sys.isMobile) {
            jsList = jsList.concat(['jsb_anysdk.js', 'jsb_anysdk_constants.js']);
        }

        jsList = jsList.map(function (x) {
            return 'src/' + x;
        });

        var option = {
            //width: width,
            //height: height,
            id: 'GameCanvas',
            scenes: settings.scenes,
            debugMode: settings.debug ? cc.DebugMode.INFO : cc.DebugMode.ERROR,
            showFPS: settings.debug,
            frameRate: 60,
            jsList: jsList,
            groupList: settings.groupList,
            collisionMatrix: settings.collisionMatrix
        };

        cc.game.run(option, onStart);
    }
};
